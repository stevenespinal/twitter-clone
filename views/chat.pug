extends layouts/main-layout.pug

block content 
    if errorMessage
        span.errorMessage #{errorMessage}
    else 
        script.
            let chatId = `!{chat._id}`

        .chatPageContainer 
            .chatTitleContainer
                +createChatImage(chat, userLoggedIn) 
                span#chatName(data-toggle="modal", data-target="#chatNameModal") Chat Name Placeholder
            .mainContentContainer 
                .loadingSpinnerContainer 
                    img(src="/images/loadingSpinner.gif", alt="loading spinner")
                .chatContainer(style="visibility: hidden", data-room=chat._id)
                    ul.chatMessages
                    .typingDots 
                        img(src="/images/typing.gif", alt="typing dots")
                    .footer
                        textarea.inputTextbox(name="messageInput", placeholder="Type a message...")
                        button.sendMessageButton 
                            i.fas.fa-paper-plane 
    +createChatNameModal(chat)
block scripts 
    script(src="/js/chat.js")